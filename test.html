<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>plan object 테스트 중</h1>
    <input type="text" id="name" placeholder="이름 입력..." />
    <input type="text" id="addr" placeholder="주소 입력..." />
    <button onclick="save()">임시 저장</button>
    <button onclick="show()">저장된 정보 보기</button>
    <span id="console"></span>
    <div id="containner" class="containner">
      <!-- 여기에 동적으로 추가될 P요소가 들어올 것 입니다. -->
    </div>

    <script>
      //임시 저장 버튼을 눌렀을 때 호출되는 함수
      function save() {
        const name = document.getElementById("name");
        const addr = document.getElementById("addr");
        //입력한 이름과 주소를 읽어 와서 obj에 저장해 보세요.

        InputData(name.value, addr.value);
        document.getElementById("console").innerText = human.length;
      }

      const human = []; //동적 할당을 위한 전역 배열.
      function InputData(name, addr) {
        const obj = {};
        obj.name = name;
        obj.addr = addr;
        human.push(obj); // human이라는 전역 배열에 생성된 객체 정보를 넣어준다.
      }

      function show() {
        const divBox = document.getElementById("containner"); //divBox 라는 큰 컨테이너를 만들었고.  그 컨테이너에 p요소를 생성 시킬것이다.

        //divBox에 자식요소들이 있다면 모두 지워줄 것이다.
        while (divBox.hasChildNodes()) {
          divBox.removeChild(divBox.firstChild);
        }
        //human이라는 전역 배열을 Loop를 돌면서 가지고 있는 요소들을 drawElemen함수를 사용하여 p요소를 그릴 것이다.
        for (let idx in human) {
          drawElement(human[idx].name); //human 배열의 각 인덱스(idx)에 해당하는 이름 정보를 drawElement에 전달하고 함수를 실행한다.
        }
      }
      function drawElement(name) {
        const p = document.createElement("p"); //p요소를 생성한다.
        p.innerHTML = `내 이름은 ${name}`; //p의 innerText(innerHTML과 동일)에 이름을 할당해준다. `` 백틱 으로 문자열과 값을 같이 표현할 수 있는 방법이다.
        document.getElementById("containner").appendChild(p); //containner라는 div 요소를 찾아 appendChild를 해준다. appendChild는 자식요소를 추가해주는 메소드이다. 전달객체로 p를 던져준다.
      }
    </script>
  </body>
</html>